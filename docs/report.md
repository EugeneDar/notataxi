## Отчет

### Тесты

#### Заглушки источников данных 

В системе реализовано 6 сервисов-заглушек на Python с использованием gRPC:

Config Service (9090): Возвращает фиксированную минимальную цену 60
Order Data Service (9091): Генерирует данные заказа с user_id, zone_id и базовой стоимостью на основе order_id
Zone Data Service (9092): Выбирает случайную зону из фиксированного списка (Lyubertsy, Moscow, Severodvinsk и др.) с соответствующими коэффициентами
Toll Roads Service (9093): Рассчитывает бонусную сумму на основе названия зоны
Executor Profile Service (9094) и Executor Fallback Service (9095): Генерируют профиль исполнителя с тегами и рейтингом

###### Базовая структура заглушек
Каждая заглушка имеет следующие общие характеристики:

Использует gRPC Server с ThreadPoolExecutor (10 рабочих потоков)
Включает рефлексию gRPC для обнаружения сервисов
Реализует соответствующий Servicer класс из сгенерированных protobuf файлов

###### Вспомогательные функции
Все заглушки используют набор общих вспомогательных функций для генерации тестовых данных:

float_from_str(s) - генерирует детерминированное float число на основе хеша строки
random_string_by_seed(seed, length) - генерирует случайную строку заданной длины с фиксированным seed
random_sublist(list, subset_size, seed) - выбирает случайное подмножество элементов из списка


#### Функциональные тесты

##### Sources Service Tests
Реализованы на Python + pytest + gRPC
Тестируемые компоненты:

Config Service: проверка минимальной цены
Executor Profile: валидация профиля исполнителя
Order Data: проверка данных заказа
Sources Service: комплексная проверка расчета цены
Toll Roads: проверка бонусов
Zone Data: валидация зон

Все тесты проверяют как успешные сценарии, так и обработку ошибок через gRPC статусы.

##### Orders Service Tests
Реализованы на Python + pytest + requests (REST API)
Тестируемые эндпоинты:

Assign Order: назначение заказа
Acquire Order: получение заказа
Cancel Order: отмена заказа

Есть автоматическая очистка тестовых данных, генерация уникальных ID для каждого теста и подробное логирование ответов

###### Нагрузочные

Нагрузочное тестирование сервиса источников выполняется через Locust, эмулируя множество клиентов, делающих gRPC запросы к Sources сервису. Каждый клиент случайно выбирает order_id и executor_id из заготовленного списка и делает запрос GetOrderInfo. Тест собирает статистику по времени ответа, количеству ошибок и пропускной способности сервиса. Реализована обработка ошибок и подробное логирование для диагностики проблем производительности.
